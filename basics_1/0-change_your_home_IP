#!/usr/bin/env bash
# Script to configure localhost to resolve to 127.0.0.2

# Ensure the script is run as root
if [ "$(id -u)" -ne 0 ]; then
  echo "This script must be run as root. Use sudo."
  exit 1
fi

# Backup the /etc/hosts file
cp /etc/hosts /etc/hosts.bak

# Update localhost entry in /etc/hosts
sed -i '/127\.0\.0\.1\s\+localhost/d' /etc/hosts
echo "127.0.0.2 localhost" >> /etc/hosts

echo "localhost now resolves to 127.0.0.2"
